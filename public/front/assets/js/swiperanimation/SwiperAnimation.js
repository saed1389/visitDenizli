!function t(e,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?exports.SwiperAnimation=i():e.SwiperAnimation=i()}(window,function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e||4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,(function(e){return t[e]}).bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function e(){return t.default}:function e(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e),i.d(e,"default",function(){return s});var n=i(1),r="visibility: hidden;",s=function(){function t(){this.swiper=null,this.allBoxes=[],this.activeBoxes=[],this.appendedPromise=!1,this.isPromiseReady=!1}var e=t.prototype;return e.init=function t(e){var i=this;return(this.swiper||(this.swiper=e),this.isPromiseReady||window.Promise)?(this.isPromiseReady=!0,this):(this._initPromisePolyfill(function(){i.isPromiseReady=!0}),this)},e.animate=function t(){var e=this;return this.isPromiseReady?Promise.resolve().then(function(){return e._cache()}).then(function(){return e._outAnimate()}).then(function(){return e._clear()}).then(function(){return e.activeBoxes=Object(n.default)(e.swiper.slides[e.swiper.activeIndex].querySelectorAll("[data-swiper-animation]")),Promise.all(e.activeBoxes.map(function(t){return new Promise(function(e){var i=t.dataset.swiperAnimation||"",n=t.dataset.duration||".5s",r=t.dataset.delay||".5s";t.style.visibility="visible",t.style.cssText+=" animation-duration:"+n+"; -webkit-animation-duration:"+n+"; animation-delay:"+r+"; -webkit-animation-delay:"+r+";",t.classList.add(i,"animated"),t.isRecovery=!1,setTimeout(e,0)})}))}):setTimeout(function(){return e.animate()},500)},e._outAnimate=function t(){return Promise.all(this.activeBoxes.map(function(t){if(t.isRecovery)return Promise.resolve();var e=t.dataset.swiperOutAnimation;return e?new Promise(function(i){var n=t.dataset.outDuration||".5s";t.style.cssText=t.styleCache,t.style.visibility="visible",t.style.cssText+=" animation-duration:"+n+"; -webkit-animation-duration:"+n+";",t.classList.add(e,"animated"),setTimeout(i,500)}):Promise.resolve()}))},e._clear=function t(){var e=this;return Promise.all(this.activeBoxes.map(function(t){return new Promise(function(e){if(t.isRecovery){e();return}t.styleCache&&(t.style.cssText=t.styleCache,t.classList.remove("animated"),t.dataset.swiperAnimation&&t.classList.remove(t.dataset.swiperAnimation),t.dataset.swiperOutAnimation&&t.classList.remove(t.dataset.swiperOutAnimation)),t.isRecovery=!0,setTimeout(function(){return e()},0)})})).then(function(){return e.activeBoxes=[]})},e._cache=function t(){var e=this;return this.allBoxes.length?Promise.resolve():(console.log("cache"),new Promise(function(t){e._initAllBoxes(),setTimeout(t,0)}).then(function(){return Promise.all(e.allBoxes.map(function(t){return new Promise(function(e){t.attributes.style?t.styleCache=r+t.style.cssText:t.styleCache=r,t.style.cssText=t.styleCache,t.isRecovery=!0,setTimeout(e,0)})}))}))},e._initAllBoxes=function t(){if(!this.allBoxes.length){var e=null;this.swiper.wrapperEl?e=this.swiper.wrapperEl:this.swiper.wrapper&&(e=this.swiper.wrapper[0]),this.allBoxes=Object(n.default)(e.querySelectorAll("[data-swiper-animation]"))}},e._initPromisePolyfill=function t(e){if(void 0===e&&(e=function t(){}),!this.appendedPromise){var i=document.createElement("script");i.type="text/javascript",i.onload=function(){return e()},i.src="https://cdn.jsdelivr.net/npm/promise-polyfill@7/dist/polyfill.min.js",document.querySelector("head").appendChild(i),this.appendedPromise=!0}},t}()},function(t,e,i){"use strict";i.r(e);var n=i(2);e.default=function(t){return Array.isArray(t)?t:Object(n.default)(t)?Array.from?Array.from(t):Array.prototype.slice.call(t):Array(t)}},function(t,e,i){"use strict";i.r(e),e.default=function(t){return"[object NodeList]"===Object.prototype.toString.call(t)}}]).default});
